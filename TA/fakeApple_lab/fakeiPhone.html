<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./reset.css">
    <link rel="stylesheet" href="./header.css">
    <link rel="stylesheet" href="./container.css">
    <script src="https://kit.fontawesome.com/a54152b54f.js" crossorigin="anonymous"></script>
    <title>fakeApple</title>
</head>

<body>
    <header class="header">
        <div class="header-wrap">
            <div class="logo">
                <h1 class="sr-only">Apple</h1>
                <a href="./fakeApple.html">
                    <i class="fa-brands fa-apple"></i>
                </a>
            </div>
            <label class="menu-button">
                <i class="fa-solid fa-grip-lines"></i>
            </label>
            <nav class="menu" id="menu">
                <div class="menu-wrap">
                    <div class="menu-search">
                        <input type="text" class="menu-search-input" placeholder="搜尋 apple.com">
                    </div>
                    <div class="menu-link-group">
                        <a href="./fakeApple.html" class="menu-link">商店</a>
                        <a href="./fakeMac.html" class="menu-link">Mac</a>
                        <a href="./fakeiPad.html" class="menu-link">iPad</a>
                        <a href="./fakeiPhone.html" class="menu-link">iPhone</a>
                    </div>
                </div>
            </nav>
            <div class="user">
                <a href="#" class="user-item search-icon">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </a>
                <a href="#" class="user-item shopping-icon">
                    <i class="fa-solid fa-bag-shopping"></i>
                </a>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="product-header">
            <div class="product-name">product-name</div>
            <span class="product-price">product-price</span>
        </div>
    </div>
    <p class="text">
        可申請最長達 12 個月的零利率分期付款。
        <a href="#">
            進一步了解
            <i class="fa-solid fa-chevron-right"></i>
        </a>
    </p>
    <main class="main container">
        <div class="product-image">
            <img class="main-image" id="main-image" src="" alt="">
        </div>
        <div class="product-spec">
            <div class="spec-discount">
                <h1 class="discount-title">discount-title</h1>
                <p class="discount-description">
                    discount-description
                </p>
            </div>

            <div class="select">
                <h2 class="select-title">選擇機型</h2>
                <ul class="select-btn-group" id="select-product">
                </ul>
            </div>

            <div class="select">
                <h2 class="select-title">選擇外觀</h2>
                <ul class="select-btn-group" id="select-color">
                </ul>
            </div>

            <div class="select">
                <h2 class="select-title">選擇儲存容量</h2>
                <ul class="select-btn-group" id="select-storage">
                </ul>
            </div>
            <span class="total-price">total-price</span>
        </div>
    </main>

    <script>
        const menu = document.querySelector('#menu')
        const menuBars = document.querySelector('.menu-button')
        menuBars.addEventListener('click', () => {
            menu.classList.toggle("menu-down")
        })
    </script>

    <script>
        const productName = document.querySelector('.product-name')
        productName.innerHTML = 'iPhone 13 Pro'
        const productPrice = document.querySelector('.product-price')
        productPrice.innerHTML = 'NT$ 32900 起'
        const mainImage = document.querySelector('#main-image')
        mainImage.src = 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-family-select?wid=940&amp;hei=1112&amp;fmt=jpeg&amp;qlt=90&amp;.v=1645811022162'
        mainImage.alt = 'iPhone 13 Pro.img'
        const discountTitle = document.querySelector('.discount-title')
        discountTitle.innerHTML = '購買 iPhone 13 Pro'
        const discountDescription = document.querySelector('.discount-description')
        discountDescription.innerHTML = '以 iPhone 8 或後續機型換購，獲享最高達 NT$2,700 – NT$18,200 折抵優惠**'
        const totalPrice = document.querySelector('.total-price')
        totalPrice.innerHTML = 'NT$ 32900 起'
    </script>

    <script>
        const productList = [
            {
                "category": "iPhone 13 Pro",
                "model": "iPhone 13 Pro",
                "monitor": "6.1吋顯示器",
                "price": 32900,
                "mainImage": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-family-select?wid=470&amp;hei=556&amp;fmt=jpeg&amp;qlt=95&amp;.v=1645811022162",
                "color": [
                    {
                        "name": "松嶺青色",
                        "hexcode": "#4b594a",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-green-select?wid=470&hei=556&fmt=png-alpha&.v=1644969385505"
                    },
                    {
                        "name": "銀色",
                        "hexcode": "#dddfde",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-silver-select?wid=470&hei=556&fmt=png-alpha&.v=1645552345849"
                    },
                    {
                        "name": "金色",
                        "hexcode": "#fae9d1",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-gold-select?wid=470&hei=556&fmt=png-alpha&.v=1645552345862"
                    },
                    {
                        "name": "石磨色",
                        "hexcode": "#6e6c68",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-graphite-select?wid=470&hei=556&fmt=png-alpha&.v=1645552346276"
                    },
                    {
                        "name": "天峰藍色",
                        "hexcode": "#99b4cc",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-blue-select?wid=470&hei=556&fmt=png-alpha&.v=1645552346275"
                    }
                ],
                "storage": [
                    {
                        "capacity": "128GB",
                        "addPrice": 0,
                        "price": "NT$ 32900 起"
                    },
                    {
                        "capacity": "256GB",
                        "addPrice": 3500,
                        "price": "NT$ 36400 起"
                    },
                    {
                        "capacity": "512GB",
                        "addPrice": 10500,
                        "price": "NT$ 43400 起"
                    },
                    {
                        "capacity": "1TB",
                        "addPrice": 17500,
                        "price": "NT$ 50400 起"
                    }
                ]
            },
            {
                "category": "iPhone 13 Pro",
                "model": "iPhone 13 Pro Max",
                "monitor": "6.7吋顯示器",
                "price": 36900,
                "mainImage": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-max-family-select?wid=940&amp;hei=1112&amp;fmt=jpeg&amp;qlt=90&amp;.v=1645811023243",
                "color": [
                    {
                        "name": "松嶺青色",
                        "hexcode": "#4b594a",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-max-green-select?wid=470&hei=556&fmt=png-alpha&.v=1644969385495"
                    },
                    {
                        "name": "銀色",
                        "hexcode": "#dddfde",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-max-silver-select?wid=470&hei=556&fmt=png-alpha&.v=1645552346280"
                    },
                    {
                        "name": "金色",
                        "hexcode": "#fae9d1",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-max-gold-select?wid=470&hei=556&fmt=png-alpha&.v=1645552346295"
                    },
                    {
                        "name": "石磨色",
                        "hexcode": "#6e6c68",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-max-graphite-select?wid=470&hei=556&fmt=png-alpha&.v=1645552346288"
                    },
                    {
                        "name": "天峰藍色",
                        "hexcode": "#99b4cc",
                        "image": "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-13-pro-max-blue-select?wid=470&hei=556&fmt=png-alpha&.v=1645552346295"
                    }
                ],
                "storage": [
                    {
                        "capacity": "128GB",
                        "addPrice": 0,
                        "price": "NT$ 36900  起"
                    },
                    {
                        "capacity": "256GB",
                        "addPrice": 3500,
                        "price": "NT$ 40400  起"
                    },
                    {
                        "capacity": "512GB",
                        "addPrice": 10500,
                        "price": "NT$ 47400 起"
                    },
                    {
                        "capacity": "1TB",
                        "addPrice": 17500,
                        "price": "NT$ 54400 起"
                    }
                ]
            }
        ]
        const selectProduct = document.querySelector('#select-product')
        const selectColor = document.querySelector('#select-color')
        const selectStorage = document.querySelector('#select-storage')
        const selectTitle = document.querySelectorAll('.select-title')
        const selectBtnGroup = document.querySelectorAll('.select-btn-group')
        const selectBtn = document.querySelectorAll('.select-btn')
        addModel(selectProduct)
        function addModel(specification) {
            productList.forEach(product => {
                const li = document.createElement('li')
                li.classList.add("select-btn", "select-product-btn")
                li.innerHTML = product.model
                specification.append(li)
                const p = document.createElement('p')
                p.classList.add("select-text")
                p.innerText = product.monitor
                li.append(p)
            })
        }
        function addColor(productlist, specification) {
            productlist.color.forEach(colors => {
                const li = document.createElement('li')
                li.classList.add("select-btn", "w-50", "select-color-btn")
                specification.append(li)
                const coloricon = document.createElement('span')
                coloricon.classList.add("select-coloricon")
                coloricon.style.backgroundColor = colors.hexcode
                li.append(coloricon)
                const p = document.createElement('p')
                p.classList.add("select-text")
                p.innerText = colors.name
                li.append(p)
            })
        }
        function addStorage(productlist, specification) {
            productlist.storage.forEach(storages => {
                const li = document.createElement('li')
                li.classList.add("select-btn", "w-50", "select-storage-btn")
                li.innerText = storages.capacity
                specification.append(li)
                const p = document.createElement('p')
                p.classList.add("select-text")
                p.innerText = storages.price
                li.append(p)
            })
        }

        const productBtn = document.querySelectorAll('.select-product-btn')
        //產生規格的選項
        productList.forEach((product, index) => {
            productBtn[index].addEventListener('click', () => {
                selectColor.innerHTML = ''
                selectStorage.innerHTML = ''
                addColor(product, selectColor)
                addStorage(product, selectStorage)
                const selectBtn = document.querySelectorAll('.w-50')
                for (i = 0; i < selectBtn.length; i++) {
                    selectBtn[i].style.display = 'flex';
                }
                productBtn.forEach(btn=>{btn.style.border = '2px solid #ccc'})
                productBtn[index].style.border = '2px solid #4790d8'

                productName.innerHTML = product.model
                productPrice.innerHTML = `NT$ ${product.price} 起`
                mainImage.src=product.mainImage
                totalPrice.innerHTML=productPrice.innerText

                //點顏色換圖片
                const colorBtn = document.querySelectorAll('.select-color-btn')
                colorBtn.forEach((colorbtn, index) => {
                    colorbtn.addEventListener('click', () => {
                        colorBtn.forEach(btn=>{btn.style.border = '2px solid #ccc'})
                        mainImage.src = product.color[index].image
                        colorbtn.style.border = '2px solid #4790d8'
                    })
                })

                //點容量算價錢
                const storageBtn = document.querySelectorAll('.select-storage-btn')
                storageBtn.forEach((storagebtn, index) => {
                    storagebtn.addEventListener('click', () => {
                        storageBtn.forEach(btn=>{btn.style.border = '2px solid #ccc'})
                        productPrice.innerHTML = `NT$ ${product.price + product.storage[index].addPrice}`
                        totalPrice.innerHTML=productPrice.innerText
                        storagebtn.style.border = '2px solid #4790d8'
                    })
                })
            })
        })

    </script>



</body>

</html>